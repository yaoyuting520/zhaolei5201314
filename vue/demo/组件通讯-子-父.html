<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<div id="app">
			<nav1 @toparents='getData2'></nav1>
		</div>
	</body>
	<template id="nav-child">
		 <div class="nav-child">
		 	<h2>这是nav-child</h2>
		 	<input type="button" name="" id="" value="回馈" @click="back" />
		 </div>
	</template>
	
	<template id="nav" >
		 <div class="nav">
		 	<navchild  @toparent='getData'></navchild>
		 	<h1>{{title}}</h1>
		 	<ul>
		 		<li v-for="(item,index)  of list">{{item}}</li>
		 	</ul>
		 </div>
	</template>
	

	
	 <script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
	 <script type="text/javascript">
	 	var navchild = {
	 		data(){
	 			return {
	 				msg1:"孙子数据1",
	 				msg2:"孙子数据2",
	 			}
	 		},
	 		template:'#nav-child',
	 		methods:{
	 			back:function(){
	 				this.$emit('toparent',this.msg1)
	 			}
	 		}
	 	}
	 	
	 	var nav1={
	 		data(){
	 			return {
	 				title:"这是标题",
	 				list:['一','二','三']
	 			}
	 		},
	 		template:'#nav',
	 		components:{
	 			navchild:navchild
	 		},
	 		methods:{
	 			getData:function(data){
	 				console.log(data);
	 				this.msg3=data;
	 				this.$emit('toparents',data)
	 			}
	 		}
	 	}
	 	
	 	var vm=new Vue({
	 		el:'#app',
	 		data:{
	 			
	 		},
	 		components:{
	 			  nav1
	 		},
	 		methods:{
	 			getData2:function(data){
	 				//console.log(this)
	 				this.msg1=data;
	 				console.log(this.msg1)
	 				
	 			}
	 			
	 		}
	 	})
	 	
	 	
	 	
	 </script>
	 
</html>

